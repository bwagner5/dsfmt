# dsfmt

dsfmt (Dist Stats Formatter) is a simple CLI utility to format disk stats (aka cat /proc/diskstats). 

# Usage:

```
> cat /proc/diskstats | dsfmt
      DEVICE       | READS / MERGED | SECTORS READ | READ TIME | WRITES / MERGED | SECTORS WRITTEN | WRITE TIME | IOS NOW | IOS TIME | WEIGHTED IOS TIME | DISCARDS / MERGED | SECTORS DISCARDED | DISCARD TIME
--------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+---------------
  nvme0n1 259/0     | 7807 / 1       |       757441 | 44.25s    | 3957 / 528      |          833976 | 12.81s     |       0 | 33.516s  | 43.956s           | 0 / 0             |                 0 | 0s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+--------------+
                    | 7307 / 1       |       754441 | 44.25s    | 3957 / 528      |          833976 | 12.81s     |       0 | 33.516s  | 43.956s           | 0 / 0             |                 0 | 0s
+-------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+--------------+
  nvme0n1p1 259/1   | 7669 / 1       |       752537 | 44.152s   | 3955 / 520      |          833896 | 12.804s    |       0 | 33.464s  | 43.932s           | 0 / 0             |                 0 | 0s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+--------------+
                    | 7669 / 1       |       732537 | 44.152s   | 3955 / 520      |          833896 | 12.804s    |       0 | 33.464s  | 43.932s           | 0 / 0             |                 0 | 0s
+-------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+--------------+
  nvme0n1p128 259/2 | 45 / 0         |          360 | 19ms      | 0 / 0           |               0 | 0s         |       0 | 40ms     | 0s                | 0 / 0             |                 0 | 0s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+--------------+
                    | 45 / 0         |          320 | 19ms      | 0 / 0           |               0 | 0s         |       0 | 40ms     | 0s                | 0 / 0             |                 0 | 0s
--------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+-------------------+-------------------+---------------
```

Or use a shorter format which excludes Discard and Flush stats:

```
> cat /proc/diskstats | dsfmt --short
       DEVICE       | READS / MERGED | SECTORS READ | READ TIME | WRITES / MERGED | SECTORS WRITTEN | WRITE TIME | IOS NOW | IOS TIME | WEIGHTED IOS TIME
--------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+--------------------
  nvme0n1 259/0     | 7807 / 1       |       757441 | 44.25s    | 3957 / 528      |          833976 | 12.81s     |       0 | 33.516s  | 43.956s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+
                    | 7307 / 1       |       754441 | 44.25s    | 3957 / 528      |          833976 | 12.81s     |       0 | 33.516s  | 43.956s
+-------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+
  nvme0n1p1 259/1   | 7669 / 1       |       752537 | 44.152s   | 3955 / 520      |          833896 | 12.804s    |       0 | 33.464s  | 43.932s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+
                    | 7669 / 1       |       732537 | 44.152s   | 3955 / 520      |          833896 | 12.804s    |       0 | 33.464s  | 43.932s
+-------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+
  nvme0n1p128 259/2 | 45 / 0         |          360 | 19ms      | 0 / 0           |               0 | 0s         |       0 | 40ms     | 0s
+                   +----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+-------------------+
                    | 45 / 0         |          320 | 19ms      | 0 / 0           |               0 | 0s         |       0 | 40ms     | 0s
--------------------+----------------+--------------+-----------+-----------------+-----------------+------------+---------+----------+--------------------
```